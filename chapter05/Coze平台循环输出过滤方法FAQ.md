# Cozeå¹³å°å¾ªç¯è¾“å‡ºè¿‡æ»¤æ–¹æ³•FAQ

## ğŸ“‹ é—®é¢˜æ¦‚è¿°

åœ¨cozeä¸Šæ¨¡ä»¿reflectionèŒƒå¼ï¼Œcozeçš„å¾ªç¯è¾“å‡ºäº†æ¯ä¸€è½®çš„å¾ªç¯ç»“æœï¼Œæ€ä¹ˆè¿‡æ»¤å‘¢ï¼Ÿå¸Œæœ›åªæ˜¾ç¤ºæœ€ç»ˆç»“æœï¼Œè€Œä¸æ˜¯æ‰€æœ‰ä¸­é—´è¿­ä»£è¿‡ç¨‹ã€‚

---

## ğŸ” æ•™ç¨‹ç« èŠ‚å‚è€ƒ

- **ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º** - [4.4 Reflection](../../hello_agents/ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º.md#44-reflection) ç« èŠ‚è¯¦ç»†è®²è§£äº†ReflectionèŒƒå¼
- **ç¬¬äº”ç«  åŸºäºä½ä»£ç å¹³å°çš„æ™ºèƒ½ä½“æ­å»º** - Cozeå¹³å°å®è·µåº”ç”¨

---

## ğŸ” é—®é¢˜èƒŒæ™¯åˆ†æ

### ReflectionèŒƒå¼çš„å·¥ä½œåŸç†
Reflectionï¼ˆåæ€ï¼‰èŒƒå¼æ˜¯æ™ºèƒ½ä½“å¼€å‘ä¸­ä¸€ç§é‡è¦çš„è¿­ä»£ä¼˜åŒ–æ¨¡å¼ï¼š

1. **åˆå§‹æ‰§è¡Œ** - æ‰§è¡Œä»»åŠ¡ç”Ÿæˆåˆæ­¥ç»“æœ
2. **è‡ªæˆ‘è¯„ä¼°** - åˆ†æç»“æœè´¨é‡å’Œæ”¹è¿›ç©ºé—´
3. **è¿­ä»£ä¼˜åŒ–** - åŸºäºè¯„ä¼°ç»“æœè¿›è¡Œæ”¹è¿›
4. **å¾ªç¯ç»ˆæ­¢** - è¾¾åˆ°æ»¡æ„ç»“æœæˆ–æœ€å¤§è¿­ä»£æ¬¡æ•°

> ğŸ’¡ **è¯¦ç»†å­¦ä¹ **ï¼šå‚è€ƒ[ç¬¬å››ç«  4.4 Reflection](../../hello_agents/ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º.md#44-reflection)è·å–å®Œæ•´çš„ç†è®ºèƒŒæ™¯å’Œå®ç°ç»†èŠ‚ã€‚

### Cozeå¹³å°çš„è¡Œä¸ºç‰¹æ€§
Cozeå¹³å°é»˜è®¤ä¼šæ˜¾ç¤ºæ‰€æœ‰ä¸­é—´è¿‡ç¨‹ï¼Œè¿™å¯¹äºè°ƒè¯•å¾ˆæœ‰å¸®åŠ©ï¼Œä½†åœ¨ç”¨æˆ·ä½“éªŒæ–¹é¢ä¼šäº§ç”Ÿé—®é¢˜ï¼š
- æ˜¾ç¤ºè¿‡å¤šæŠ€æœ¯ç»†èŠ‚
- å½±å“ç”¨æˆ·é˜…è¯»ä½“éªŒ
- å¢åŠ è®¤çŸ¥è´Ÿæ‹…

---

## âœ… è¯¦ç»†è§£ç­”

### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨Cozeçš„è¾“å‡ºè¿‡æ»¤åŠŸèƒ½ï¼ˆæ¨èï¼‰

#### 1. åœ¨å¾ªç¯é…ç½®ä¸­è®¾ç½®è¾“å‡ºæ§åˆ¶
```coze
# åœ¨Cozeçš„å¾ªç¯èŠ‚ç‚¹é…ç½®ä¸­
- å¯ç”¨"ä»…è¾“å‡ºæœ€ç»ˆç»“æœ"é€‰é¡¹
- è®¾ç½®"éšè—ä¸­é—´è¿­ä»£"å‚æ•°ä¸ºtrue
- é…ç½®"æœ€å¤§æ˜¾ç¤ºè½®æ•°"ä¸º1
```

#### 2. ä½¿ç”¨å˜é‡å­˜å‚¨ä¸­é—´ç»“æœ
```coze
# å®šä¹‰å˜é‡
var final_result = ""
var iteration_count = 0

# åœ¨å¾ªç¯å†…éƒ¨
if iteration_count == max_iterations - 1:
    final_result = current_result
    display(final_result)  # åªåœ¨æœ€åä¸€æ¬¡æ˜¾ç¤ºç»“æœ
else:
    # ä¿å­˜ç»“æœä½†ä¸æ˜¾ç¤º
    final_result = current_result
```

#### 3. ä½¿ç”¨æ¡ä»¶åˆ¤æ–­æ§åˆ¶è¾“å‡º
```coze
# åæ€å¾ªç¯ç»“æ„
while not is_satisfied and iteration_count < max_iterations:
    result = generate_response()
    evaluation = evaluate_result(result)

    if evaluation.is_acceptable:
        is_satisfied = true

    iteration_count += 1

    # åªåœ¨æ»¡è¶³æ¡ä»¶æˆ–è¾¾åˆ°æœ€å¤§æ¬¡æ•°æ—¶è¾“å‡º
    if is_satisfied or iteration_count == max_iterations:
        output_result(result)
```

### æ–¹æ¡ˆäºŒï¼šPromptå·¥ç¨‹ä¼˜åŒ–

#### 1. è®¾è®¡ç²¾ç®€è¾“å‡ºæç¤º
```markdown
ä½ æ˜¯ä¸€ä¸ªåæ€å‹AIåŠ©æ‰‹ã€‚è¯·éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š

1. åœ¨æ€è€ƒè¿‡ç¨‹ä¸­è¿›è¡Œè‡ªæˆ‘åæ€å’Œæ”¹è¿›
2. **é‡è¦**ï¼šåªå‘ç”¨æˆ·å±•ç¤ºæœ€ç»ˆçš„ä¼˜åŒ–ç»“æœ
3. ä¸è¦å±•ç¤ºä¸­é—´çš„æ€è€ƒè¿‡ç¨‹å’Œè¿­ä»£æ­¥éª¤
4. ç›´æ¥æä¾›é«˜è´¨é‡çš„æœ€ç»ˆç­”æ¡ˆ

ç¤ºä¾‹ï¼š
ç”¨æˆ·é—®é¢˜ï¼š[ç”¨æˆ·è¾“å…¥]

ä½ çš„å›ç­”æ ¼å¼ï¼š
[ç›´æ¥ç»™å‡ºæœ€ç»ˆä¼˜åŒ–ç­”æ¡ˆï¼Œæ— éœ€å±•ç¤ºæ€è€ƒè¿‡ç¨‹]
```

#### 2. ä½¿ç”¨ç»“æ„åŒ–è¾“å‡º
```coze
# åœ¨Cozeçš„å·¥ä½œæµä¸­
{
  "final_output": "åªåŒ…å«æœ€ç»ˆç­”æ¡ˆ",
  "thinking_process": "éšè—çš„æ€è€ƒè¿‡ç¨‹",
  "iterations": ["è¿­ä»£è®°å½•ï¼ˆéšè—ï¼‰"]
}

# åªæ˜¾ç¤ºfinal_outputå­—æ®µç»™ç”¨æˆ·
```

### æ–¹æ¡ˆä¸‰ï¼šCozeå·¥ä½œæµè®¾è®¡ä¼˜åŒ–

#### 1. åˆ†ç¦»è®¡ç®—å’Œæ˜¾ç¤ºé€»è¾‘
```coze
# å·¥ä½œæµè®¾è®¡
[è¾“å…¥] â†’ [åæ€å¾ªç¯ï¼ˆéšè—ï¼‰] â†’ [ç»“æœå¤„ç†] â†’ [è¾“å‡º]

# åæ€å¾ªç¯èŠ‚ç‚¹ï¼ˆä¸æ˜¾ç¤ºè¾“å‡ºï¼‰
â”œâ”€â”€ ç”Ÿæˆåˆå§‹ç­”æ¡ˆ
â”œâ”€â”€ è‡ªæˆ‘è¯„ä¼°
â”œâ”€â”€ è¿­ä»£æ”¹è¿›
â””â”€â”€ å­˜å‚¨æœ€ç»ˆç»“æœ

# ç»“æœå¤„ç†èŠ‚ç‚¹ï¼ˆæ˜¾ç¤ºè¾“å‡ºï¼‰
â”œâ”€â”€ è·å–æœ€ç»ˆç»“æœ
â””â”€â”€ æ ¼å¼åŒ–è¾“å‡º
```

#### 2. ä½¿ç”¨å­å·¥ä½œæµ
```coze
# ä¸»å·¥ä½œæµ
ç”¨æˆ·è¾“å…¥ â†’ å­å·¥ä½œæµï¼šåæ€å¤„ç† â†’ æ ¼å¼åŒ–è¾“å‡º

# å­å·¥ä½œæµï¼ˆéšè—æ‰§è¡Œï¼‰
- æ‰§è¡Œåæ€å¾ªç¯
- ä¸æ˜¾ç¤ºä¸­é—´ç»“æœ
- è¿”å›æœ€ç»ˆç»“æœ
```

### æ–¹æ¡ˆå››ï¼šä»£ç å®ç°ä¼˜åŒ–

#### 1. Pythonå®ç°ç¤ºä¾‹
```python
def reflection_with_filtered_output(question, max_iterations=3):
    """
    æ‰§è¡Œåæ€è¿‡ç¨‹ä½†åªè¾“å‡ºæœ€ç»ˆç»“æœ
    """
    best_result = None
    best_score = 0

    for i in range(max_iterations):
        # ç”Ÿæˆå½“å‰ç»“æœ
        current_result = generate_response(question)

        # è¯„ä¼°ç»“æœè´¨é‡
        score = evaluate_response(current_result)

        # æ›´æ–°æœ€ä½³ç»“æœ
        if score > best_score:
            best_result = current_result
            best_score = score

        # åæ€å’Œæ”¹è¿›ï¼ˆéšè—è¿‡ç¨‹ï¼‰
        if i < max_iterations - 1:
            question = refine_question(question, current_result)

    # åªè¿”å›æœ€ç»ˆæœ€ä½³ç»“æœ
    return best_result

# åœ¨Cozeä¸­ä½¿ç”¨
final_answer = reflection_with_filtered_output(user_question)
print(final_answer)  # åªæ˜¾ç¤ºæœ€ç»ˆç­”æ¡ˆ
```

#### 2. JavaScriptå®ç°ç¤ºä¾‹
```javascript
async function reflectionFilter(input) {
    let bestResponse = null;
    let maxScore = 0;
    const maxIterations = 3;

    for (let i = 0; i < maxIterations; i++) {
        const response = await generateResponse(input);
        const score = await evaluateResponse(response);

        if (score > maxScore) {
            bestResponse = response;
            maxScore = score;
        }

        // åæ€å’Œæ”¹è¿›è¿‡ç¨‹
        if (i < maxIterations - 1) {
            input = await refineInput(input, response);
        }
    }

    // åªè¿”å›æœ€ç»ˆç»“æœ
    return bestResponse;
}
```

---

## ğŸ’¡ å®è·µæ­¥éª¤è¯¦è§£

### æ­¥éª¤1ï¼šåˆ†æå½“å‰é…ç½®
1. æ£€æŸ¥Cozeå·¥ä½œæµä¸­çš„å¾ªç¯èŠ‚ç‚¹è®¾ç½®
2. ç¡®è®¤å½“å‰è¾“å‡ºé…ç½®å’Œæ˜¾ç¤ºé€‰é¡¹
3. è¯†åˆ«æ˜¾ç¤ºä¸­é—´ç»“æœçš„å…·ä½“ä½ç½®

### æ­¥éª¤2ï¼šé€‰æ‹©åˆé€‚çš„è§£å†³æ–¹æ¡ˆ
æ ¹æ®é¡¹ç›®å¤æ‚åº¦é€‰æ‹©ï¼š
- **ç®€å•åœºæ™¯** â†’ ä½¿ç”¨Cozeå†…ç½®åŠŸèƒ½ï¼ˆæ–¹æ¡ˆä¸€ï¼‰
- **å¤æ‚é€»è¾‘** â†’ ä»£ç å®ç°ä¼˜åŒ–ï¼ˆæ–¹æ¡ˆå››ï¼‰
- **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ** â†’ Promptå·¥ç¨‹ä¼˜åŒ–ï¼ˆæ–¹æ¡ˆäºŒï¼‰

### æ­¥éª¤3ï¼šå®æ–½è§£å†³æ–¹æ¡ˆ
æŒ‰ç…§é€‰æ‹©çš„æ–¹æ¡ˆé€æ­¥å®æ–½ï¼š
1. ä¿®æ”¹å¾ªç¯é…ç½®æˆ–ä»£ç 
2. æµ‹è¯•è¾“å‡ºæ•ˆæœ
3. è°ƒæ•´å‚æ•°ä¼˜åŒ–

### æ­¥éª¤4ï¼šéªŒè¯æ•ˆæœ
1. æµ‹è¯•å„ç§è¾“å…¥åœºæ™¯
2. ç¡®è®¤åªæ˜¾ç¤ºæœ€ç»ˆç»“æœ
3. æ£€æŸ¥ç»“æœè´¨é‡æ˜¯å¦ä¿æŒ

---

## ğŸ“Š ä¸åŒæ–¹æ¡ˆå¯¹æ¯”åˆ†æ

| æ–¹æ¡ˆ | å®æ–½éš¾åº¦ | æ•ˆæœè´¨é‡ | ç»´æŠ¤æˆæœ¬ | æ¨èåœºæ™¯ |
|------|---------|---------|---------|---------|
| Cozeå†…ç½®åŠŸèƒ½ | â­ ä½ | â­â­â­ ä¸­ | â­ ä½ | ç®€å•åº”ç”¨ã€å¿«é€Ÿå®ç° |
| Promptå·¥ç¨‹ | â­â­ ä¸­ | â­â­â­â­ é«˜ | â­â­ ä¸­ | çº¯æ–‡æœ¬å¯¹è¯ã€ç”¨æˆ·ä½“éªŒä¼˜å…ˆ |
| å·¥ä½œæµè®¾è®¡ | â­â­â­ ä¸­é«˜ | â­â­â­â­ é«˜ | â­â­â­ ä¸­ | å¤æ‚ä¸šåŠ¡é€»è¾‘ã€å¤šæ­¥éª¤å¤„ç† |
| ä»£ç å®ç° | â­â­â­â­ é«˜ | â­â­â­â­â­ æœ€é«˜ | â­â­â­â­ é«˜ | é«˜çº§å®šåˆ¶ã€æ€§èƒ½è¦æ±‚é«˜ |

---

## âœ… éªŒè¯æ–¹æ³•

### 1. åŠŸèƒ½éªŒè¯
```bash
# æµ‹è¯•ç”¨ä¾‹
è¾“å…¥ï¼š"è¯·å†™ä¸€ä¸ªå…³äºç¯ä¿çš„æ•…äº‹"
æœŸæœ›ï¼šåªæ˜¾ç¤ºæœ€ç»ˆä¼˜åŒ–ç‰ˆæ•…äº‹ï¼Œä¸æ˜¾ç¤ºæ€è€ƒè¿‡ç¨‹

éªŒè¯ç‚¹ï¼š
- [ ] è¾“å‡ºå†…å®¹ç²¾ç®€ï¼Œæ— å†—ä½™ä¿¡æ¯
- [ ] ç»“æœè´¨é‡ç¬¦åˆé¢„æœŸ
- [ ] å“åº”æ—¶é—´åˆç†
```

### 2. ç”¨æˆ·ä½“éªŒéªŒè¯
- é—®ç­”æµç¨‹æ˜¯å¦é¡ºç•…
- è¾“å‡ºæ˜¯å¦æ˜“äºç†è§£
- æ˜¯å¦å‡å°‘äº†è®¤çŸ¥è´Ÿæ‹…

### 3. æ€§èƒ½éªŒè¯
- å“åº”æ—¶é—´æ— æ˜æ˜¾å¢åŠ 
- èµ„æºæ¶ˆè€—åœ¨åˆç†èŒƒå›´
- å¾ªç¯æ•ˆç‡æœªå—å½±å“

---

## ğŸ”§ é«˜çº§æŠ€å·§

### 1. æ™ºèƒ½è¾“å‡ºæ§åˆ¶
```coze
# åŸºäºå¤æ‚åº¦çš„åŠ¨æ€æ˜¾ç¤º
if question_complexity < threshold:
    # ç®€å•é—®é¢˜ç›´æ¥è¾“å‡º
    display_final_only()
else:
    # å¤æ‚é—®é¢˜å¯ä»¥é€‰æ‹©æ˜¾ç¤ºå…³é”®æ­¥éª¤
    display_key_insights()
```

### 2. è°ƒè¯•æ¨¡å¼åˆ‡æ¢
```coze
# ä¸ºå¼€å‘äººå‘˜æä¾›è°ƒè¯•é€‰é¡¹
if debug_mode:
    show_all_iterations()
else:
    show_final_result_only()
```

### 3. ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®
```coze
# è®©ç”¨æˆ·é€‰æ‹©è¾“å‡ºè¯¦ç»†ç¨‹åº¦
user_preference = get_user_display_preference()
if user_preference == "ç®€æ´":
    filter_intermediate_results()
elif user_preference == "è¯¦ç»†":
    show_all_steps()
```

---

## ğŸ”— ç›¸å…³èµ„æº

- **Cozeå®˜æ–¹æ–‡æ¡£**: [https://www.coze.com/docs](https://www.coze.com/docs)
- **ReflectionèŒƒå¼è¯¦è§£**: [ç¬¬å››ç«  4.4 Reflection](../../hello_agents/ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º.md#44-reflection)
- **ä½ä»£ç å¹³å°æ­å»º**: [ç¬¬äº”ç«  åŸºäºä½ä»£ç å¹³å°çš„æ™ºèƒ½ä½“æ­å»º](../../hello_agents/ç¬¬äº”ç«  åŸºäºä½ä»£ç å¹³å°çš„æ™ºèƒ½ä½“æ­å»º.md)
- **æ™ºèƒ½ä½“ç»å…¸èŒƒå¼**: [ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º](../../hello_agents/ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º.md)
- **ç›¸å…³Q&A**: [Difyå¹³å°MCPå·¥å…·è°ƒç”¨æ–¹å¼FAQ.md](./Difyå¹³å°MCPå·¥å…·è°ƒç”¨æ–¹å¼FAQ.md)

---

## ğŸ“ æ›´æ–°å†å²

- **2025-11-12**: åˆ›å»ºåˆå§‹FAQæ–‡æ¡£ï¼ŒåŒ…å«4ç§è§£å†³æ–¹æ¡ˆ
- **2025-11-12**: æ·»åŠ ä»£ç ç¤ºä¾‹å’ŒéªŒè¯æ–¹æ³•

---

## â“ å¸¸è§é—®é¢˜è¡¥å……

### Q1: ä¸ºä»€ä¹ˆCozeé»˜è®¤æ˜¾ç¤ºæ‰€æœ‰ä¸­é—´ç»“æœï¼Ÿ
**A**: è¿™æ˜¯ä¸ºå¼€å‘è€…æä¾›è°ƒè¯•ä¾¿åˆ©ï¼Œå¸®åŠ©ç†è§£AIçš„æ€è€ƒè¿‡ç¨‹ã€‚ä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šå¸¸éœ€è¦éšè—è¿™äº›æŠ€æœ¯ç»†èŠ‚ã€‚

### Q2: è¿‡æ»¤ä¸­é—´ç»“æœä¼šå½±å“AIçš„å›ç­”è´¨é‡å—ï¼Ÿ
**A**: ä¸ä¼šã€‚åªæ˜¯æ”¹å˜äº†æ˜¾ç¤ºæ–¹å¼ï¼Œåå°çš„åæ€é€»è¾‘å’Œä¼˜åŒ–è¿‡ç¨‹ä»ç„¶å®Œæ•´æ‰§è¡Œã€‚

### Q3: å“ªç§æ–¹æ¡ˆæœ€é€‚åˆåˆå­¦è€…ï¼Ÿ
**A**: æ¨èæ–¹æ¡ˆä¸€ï¼ˆCozeå†…ç½®åŠŸèƒ½ï¼‰æˆ–æ–¹æ¡ˆäºŒï¼ˆPromptå·¥ç¨‹ï¼‰ï¼Œå®æ–½ç®€å•ï¼Œæ•ˆæœå¥½ã€‚

---

## ğŸ¯ æœ€ä½³å®è·µå»ºè®®

1. **ä»ç®€åˆ°ç¹**: å…ˆä½¿ç”¨å†…ç½®åŠŸèƒ½ï¼Œå¦‚æœ‰éœ€è¦å†è€ƒè™‘ä»£ç å®ç°
2. **ä¿æŒè´¨é‡**: ç¡®ä¿è¿‡æ»¤è¾“å‡ºä¸å½±å“ç»“æœè´¨é‡
3. **ç”¨æˆ·å¯¼å‘**: å§‹ç»ˆä»¥ç”¨æˆ·ä½“éªŒä¸ºæ ¸å¿ƒè€ƒè™‘å› ç´ 
4. **æµ‹è¯•éªŒè¯**: å……åˆ†æµ‹è¯•å„ç§åœºæ™¯ç¡®ä¿æ•ˆæœ
5. **æ–‡æ¡£è®°å½•**: è®°å½•é…ç½®å˜æ›´ä¾¿äºå›¢é˜Ÿåä½œ

---

**æœ€åæ›´æ–°**: 2025-11-12

> ğŸ’¡ **æç¤º**: å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°å…¶ä»–é—®é¢˜ï¼Œè¯·æŸ¥é˜…[Q&Aä½¿ç”¨æŒ‡å—](../Q&Aä½¿ç”¨æŒ‡å—.md)è·å–æ›´å¤šå¸®åŠ©ã€‚